{"version":3,"sources":["turbopack:///[project]/node_modules/next/src/build/webpack/loaders/next-flight-loader/server-reference.ts","turbopack:///[project]/app/stripe-test/page.tsx","turbopack:///[project]/app/lib/stripe-products.ts","turbopack:///[project]/.next-internal/server/app/stripe-test/page/actions.js (server actions loader)"],"sourcesContent":["/* eslint-disable import/no-extraneous-dependencies */\nexport { registerServerReference } from 'react-server-dom-webpack/server'\n","import { redirect } from \"next/navigation\";\nimport { getPriceId } from \"@/lib/stripe-products\";\n\nexport default function StripeTestPage() {\n  async function createTestCheckout(formData: FormData) {\n    'use server';\n\n    const product = formData.get('product') as string;\n    const quantity = parseInt(formData.get('quantity') as string) || 1;\n\n    // Get Price ID from our products configuration\n    const priceId = getPriceId('apple', product); // Using apple category for testing\n\n    if (!priceId) {\n      throw new Error('Product not found');\n    }\n\n    // Redirect to checkout session creation\n    redirect(`/api/create-checkout-session?priceId=${priceId}&quantity=${quantity}`);\n  }\n\n  return (\n    <div className=\"max-w-2xl mx-auto p-8\">\n      <h1 className=\"text-3xl font-bold mb-8\">Stripe Integration Test</h1>\n\n      <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8\">\n        <h2 className=\"text-xl font-semibold text-blue-900 mb-4\">Test Card Numbers</h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm\">\n          <div>\n            <h3 className=\"font-medium text-green-700\">✅ Success Cards</h3>\n            <ul className=\"mt-2 space-y-1 text-gray-700\">\n              <li><strong>Visa:</strong> 4242 4242 4242 4242</li>\n              <li><strong>MC:</strong> 5555 5555 5555 4444</li>\n              <li><strong>Amex:</strong> 3782 822463 10005</li>\n            </ul>\n          </div>\n          <div>\n            <h3 className=\"font-medium text-red-700\">❌ Decline Cards</h3>\n            <ul className=\"mt-2 space-y-1 text-gray-700\">\n              <li><strong>Generic:</strong> 4000 0000 0000 0002</li>\n              <li><strong>Insufficient:</strong> 4000 0000 0000 9995</li>\n              <li><strong>Expired:</strong> 4000 0000 0000 0069</li>\n            </ul>\n          </div>\n        </div>\n        <p className=\"mt-4 text-sm text-gray-600\">\n          Use any future expiry date (e.g., 12/30) and any CVC (e.g., 123)\n        </p>\n      </div>\n\n      <div className=\"bg-white border border-gray-200 rounded-lg p-6 mb-8\">\n        <h2 className=\"text-xl font-semibold mb-4\">Quick Checkout Test</h2>\n        <form action={createTestCheckout} className=\"space-y-4\">\n          <div>\n            <label htmlFor=\"product\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Test Product\n            </label>\n            <select\n              id=\"product\"\n              name=\"product\"\n              className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              required\n            >\n              <option value=\"iphone15\">iPhone 15 Screen ($149.99)</option>\n              <option value=\"iphone14\">iPhone 14 Battery ($49.99)</option>\n              <option value=\"iphone13\">iPhone 13 Charging Port ($29.99)</option>\n            </select>\n          </div>\n\n          <div>\n            <label htmlFor=\"quantity\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Quantity\n            </label>\n            <input\n              type=\"number\"\n              id=\"quantity\"\n              name=\"quantity\"\n              min=\"1\"\n              max=\"10\"\n              defaultValue=\"1\"\n              className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              required\n            />\n          </div>\n\n          <button\n            type=\"submit\"\n            className=\"w-full bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-blue-700 font-semibold\"\n          >\n            Test Checkout\n          </button>\n        </form>\n      </div>\n\n      <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-6\">\n        <h2 className=\"text-xl font-semibold text-yellow-900 mb-4\">Testing Checklist</h2>\n        <ul className=\"space-y-2 text-sm text-yellow-800\">\n          <li>✅ API keys configured (test mode)</li>\n          <li>✅ Products created in Stripe Dashboard</li>\n          <li>✅ Price IDs updated in code</li>\n          <li>✅ Webhook endpoint configured</li>\n          <li>✅ Email service configured</li>\n        </ul>\n      </div>\n\n      <div className=\"mt-8 text-center\">\n        <a\n          href=\"/products\"\n          className=\"text-blue-600 hover:text-blue-800 underline\"\n        >\n          ← Back to Products\n        </a>\n      </div>\n    </div>\n  );\n}\n","// Stripe Products and Prices Configuration\n// Test Mode Price IDs - Replace with Live IDs when switching to production\n\nexport const STRIPE_PRODUCTS = {\n  // Apple Products\n  apple: {\n    iphone15: {\n      name: 'iPhone 15 Screen',\n      priceId: 'price_test_apple_iphone15_screen', // Replace with actual Price ID\n      price: 149.99,\n    },\n    iphone14: {\n      name: 'iPhone 14 Battery',\n      priceId: 'price_test_apple_iphone14_battery', // Replace with actual Price ID\n      price: 49.99,\n    },\n    iphone13: {\n      name: 'iPhone 13 Charging Port',\n      priceId: 'price_test_apple_iphone13_port', // Replace with actual Price ID\n      price: 29.99,\n    },\n  },\n\n  // Samsung Products\n  samsung: {\n    s24: {\n      name: 'Galaxy S24 Screen',\n      priceId: 'price_test_samsung_s24_screen', // Replace with actual Price ID\n      price: 199.99,\n    },\n    s23: {\n      name: 'Galaxy S23 Battery',\n      priceId: 'price_test_samsung_s23_battery', // Replace with actual Price ID\n      price: 59.99,\n    },\n    note: {\n      name: 'Galaxy Note S Pen',\n      priceId: 'price_test_samsung_note_spen', // Replace with actual Price ID\n      price: 39.99,\n    },\n  },\n\n  // Motorola Products\n  motorola: {\n    motog: {\n      name: 'Moto G Screen Protector',\n      priceId: 'price_test_motorola_motog_screen', // Replace with actual Price ID\n      price: 19.99,\n    },\n    edge: {\n      name: 'Moto Edge Battery',\n      priceId: 'price_test_motorola_edge_battery', // Replace with actual Price ID\n      price: 45.99,\n    },\n  },\n\n  // Google Products\n  google: {\n    pixel8: {\n      name: 'Pixel 8 Camera Module',\n      priceId: 'price_test_google_pixel8_camera', // Replace with actual Price ID\n      price: 89.99,\n    },\n    pixel7: {\n      name: 'Pixel 7 Screen',\n      priceId: 'price_test_google_pixel7_screen', // Replace with actual Price ID\n      price: 129.99,\n    },\n  },\n\n  // Other Parts\n  other: {\n    cables: {\n      name: 'Universal Charging Cable',\n      priceId: 'price_test_other_cable', // Replace with actual Price ID\n      price: 12.99,\n    },\n    tools: {\n      name: 'Repair Tool Kit',\n      priceId: 'price_test_other_tools', // Replace with actual Price ID\n      price: 79.99,\n    },\n  },\n\n  // Game Console Accessories\n  'game-console': {\n    controllers: {\n      name: 'Gaming Controller',\n      priceId: 'price_test_console_controller', // Replace with actual Price ID\n      price: 59.99,\n    },\n    hdmi: {\n      name: 'HDMI Cable 6ft',\n      priceId: 'price_test_console_hdmi', // Replace with actual Price ID\n      price: 14.99,\n    },\n  },\n\n  // Tools & Supplies\n  tools: {\n    screwdriver: {\n      name: 'Precision Screwdriver Set',\n      priceId: 'price_test_tools_screwdriver', // Replace with actual Price ID\n      price: 34.99,\n    },\n    heatgun: {\n      name: 'Professional Heat Gun',\n      priceId: 'price_test_tools_heatgun', // Replace with actual Price ID\n      price: 89.99,\n    },\n  },\n\n  // Refurbishing\n  refurbishing: {\n    polishing: {\n      name: 'Screen Polishing Kit',\n      priceId: 'price_test_refurb_polish', // Replace with actual Price ID\n      price: 24.99,\n    },\n    adhesive: {\n      name: 'Screen Adhesive Kit',\n      priceId: 'price_test_refurb_adhesive', // Replace with actual Price ID\n      price: 16.99,\n    },\n  },\n\n  // Board Components\n  'board-components': {\n    chip: {\n      name: 'IC Chip Replacement',\n      priceId: 'price_test_board_icchip', // Replace with actual Price ID\n      price: 12.99,\n    },\n    connector: {\n      name: 'FPC Connector',\n      priceId: 'price_test_board_connector', // Replace with actual Price ID\n      price: 8.99,\n    },\n  },\n\n  // Pre-Owned Devices\n  'pre-owned': {\n    iphoneA: {\n      name: 'Pre-Owned iPhone Grade A',\n      priceId: 'price_test_preowned_iphone_a', // Replace with actual Price ID\n      price: 299.99,\n    },\n    androidB: {\n      name: 'Pre-Owned Android Phone Grade B',\n      priceId: 'price_test_preowned_android_b', // Replace with actual Price ID\n      price: 149.99,\n    },\n  },\n} as const;\n\n// Helper function to get Price ID by category and product key\nexport function getPriceId(category: string, productKey: string): string | null {\n  const categoryProducts = STRIPE_PRODUCTS[category as keyof typeof STRIPE_PRODUCTS] as any;\n  if (!categoryProducts) return null;\n\n  const product = categoryProducts[productKey];\n  return product?.priceId || null;\n}\n\n// Helper function to get all products for a category\nexport function getCategoryProducts(category: string) {\n  return STRIPE_PRODUCTS[category as keyof typeof STRIPE_PRODUCTS] || {};\n}\n\n// Helper function to get product info by Price ID\nexport function getProductByPriceId(priceId: string) {\n  for (const [category, products] of Object.entries(STRIPE_PRODUCTS)) {\n    for (const [key, product] of Object.entries(products)) {\n      if (product.priceId === priceId) {\n        return { category, key, ...product };\n      }\n    }\n  }\n  return null;\n}\n","export {$$RSC_SERVER_ACTION_0 as '402a152b2ad607474ffbdcd86bccdc2c021f5fb333'} from 'ACTIONS_MODULE0'\n"],"names":["registerServerReference"],"mappings":"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","ignoreList":[0]}