{"version":3,"sources":["turbopack:///[project]/node_modules/zustand/esm/react.mjs","turbopack:///[project]/node_modules/zustand/esm/vanilla.mjs","turbopack:///[project]/node_modules/zustand/esm/middleware.mjs","turbopack:///[project]/app/store/cartStore.ts","turbopack:///[project]/node_modules/@stripe/stripe-js/dist/index.mjs","turbopack:///[project]/app/(shop)/checkout/page.tsx"],"sourcesContent":["import React from 'react';\nimport { createStore } from 'zustand/vanilla';\n\nconst identity = (arg) => arg;\nfunction useStore(api, selector = identity) {\n  const slice = React.useSyncExternalStore(\n    api.subscribe,\n    React.useCallback(() => selector(api.getState()), [api, selector]),\n    React.useCallback(() => selector(api.getInitialState()), [api, selector])\n  );\n  React.useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  const api = createStore(createState);\n  const useBoundStore = (selector) => useStore(api, selector);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = ((createState) => createState ? createImpl(createState) : createImpl);\n\nexport { create, useStore };\n","const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const api = { setState, getState, getInitialState, subscribe };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = ((createState) => createState ? createStoreImpl(createState) : createStoreImpl);\n\nexport { createStore };\n","const reduxImpl = (reducer, initial) => (set, _get, api) => {\n  api.dispatch = (action) => {\n    set((state) => reducer(state, action), false, action);\n    return action;\n  };\n  api.dispatchFromDevtools = true;\n  return { dispatch: (...args) => api.dispatch(...args), ...initial };\n};\nconst redux = reduxImpl;\n\nconst trackedConnections = /* @__PURE__ */ new Map();\nconst getTrackedConnectionState = (name) => {\n  const api = trackedConnections.get(name);\n  if (!api) return {};\n  return Object.fromEntries(\n    Object.entries(api.stores).map(([key, api2]) => [key, api2.getState()])\n  );\n};\nconst extractConnectionInformation = (store, extensionConnector, options) => {\n  if (store === void 0) {\n    return {\n      type: \"untracked\",\n      connection: extensionConnector.connect(options)\n    };\n  }\n  const existingConnection = trackedConnections.get(options.name);\n  if (existingConnection) {\n    return { type: \"tracked\", store, ...existingConnection };\n  }\n  const newConnection = {\n    connection: extensionConnector.connect(options),\n    stores: {}\n  };\n  trackedConnections.set(options.name, newConnection);\n  return { type: \"tracked\", store, ...newConnection };\n};\nconst removeStoreFromTrackedConnections = (name, store) => {\n  if (store === void 0) return;\n  const connectionInfo = trackedConnections.get(name);\n  if (!connectionInfo) return;\n  delete connectionInfo.stores[store];\n  if (Object.keys(connectionInfo.stores).length === 0) {\n    trackedConnections.delete(name);\n  }\n};\nconst findCallerName = (stack) => {\n  var _a, _b;\n  if (!stack) return void 0;\n  const traceLines = stack.split(\"\\n\");\n  const apiSetStateLineIndex = traceLines.findIndex(\n    (traceLine) => traceLine.includes(\"api.setState\")\n  );\n  if (apiSetStateLineIndex < 0) return void 0;\n  const callerLine = ((_a = traceLines[apiSetStateLineIndex + 1]) == null ? void 0 : _a.trim()) || \"\";\n  return (_b = /.+ (.+) .+/.exec(callerLine)) == null ? void 0 : _b[1];\n};\nconst devtoolsImpl = (fn, devtoolsOptions = {}) => (set, get, api) => {\n  const { enabled, anonymousActionType, store, ...options } = devtoolsOptions;\n  let extensionConnector;\n  try {\n    extensionConnector = (enabled != null ? enabled : (import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") && window.__REDUX_DEVTOOLS_EXTENSION__;\n  } catch (e) {\n  }\n  if (!extensionConnector) {\n    return fn(set, get, api);\n  }\n  const { connection, ...connectionInformation } = extractConnectionInformation(store, extensionConnector, options);\n  let isRecording = true;\n  api.setState = ((state, replace, nameOrAction) => {\n    const r = set(state, replace);\n    if (!isRecording) return r;\n    const action = nameOrAction === void 0 ? {\n      type: anonymousActionType || findCallerName(new Error().stack) || \"anonymous\"\n    } : typeof nameOrAction === \"string\" ? { type: nameOrAction } : nameOrAction;\n    if (store === void 0) {\n      connection == null ? void 0 : connection.send(action, get());\n      return r;\n    }\n    connection == null ? void 0 : connection.send(\n      {\n        ...action,\n        type: `${store}/${action.type}`\n      },\n      {\n        ...getTrackedConnectionState(options.name),\n        [store]: api.getState()\n      }\n    );\n    return r;\n  });\n  api.devtools = {\n    cleanup: () => {\n      if (connection && typeof connection.unsubscribe === \"function\") {\n        connection.unsubscribe();\n      }\n      removeStoreFromTrackedConnections(options.name, store);\n    }\n  };\n  const setStateFromDevtools = (...a) => {\n    const originalIsRecording = isRecording;\n    isRecording = false;\n    set(...a);\n    isRecording = originalIsRecording;\n  };\n  const initialState = fn(api.setState, get, api);\n  if (connectionInformation.type === \"untracked\") {\n    connection == null ? void 0 : connection.init(initialState);\n  } else {\n    connectionInformation.stores[connectionInformation.store] = api;\n    connection == null ? void 0 : connection.init(\n      Object.fromEntries(\n        Object.entries(connectionInformation.stores).map(([key, store2]) => [\n          key,\n          key === connectionInformation.store ? initialState : store2.getState()\n        ])\n      )\n    );\n  }\n  if (api.dispatchFromDevtools && typeof api.dispatch === \"function\") {\n    let didWarnAboutReservedActionType = false;\n    const originalDispatch = api.dispatch;\n    api.dispatch = (...args) => {\n      if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && args[0].type === \"__setState\" && !didWarnAboutReservedActionType) {\n        console.warn(\n          '[zustand devtools middleware] \"__setState\" action type is reserved to set state from the devtools. Avoid using it.'\n        );\n        didWarnAboutReservedActionType = true;\n      }\n      originalDispatch(...args);\n    };\n  }\n  connection.subscribe((message) => {\n    var _a;\n    switch (message.type) {\n      case \"ACTION\":\n        if (typeof message.payload !== \"string\") {\n          console.error(\n            \"[zustand devtools middleware] Unsupported action format\"\n          );\n          return;\n        }\n        return parseJsonThen(\n          message.payload,\n          (action) => {\n            if (action.type === \"__setState\") {\n              if (store === void 0) {\n                setStateFromDevtools(action.state);\n                return;\n              }\n              if (Object.keys(action.state).length !== 1) {\n                console.error(\n                  `\n                    [zustand devtools middleware] Unsupported __setState action format.\n                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { \"type\": \"__setState\", \"state\": { \"abc123Store\": { \"foo\": \"bar\" } } }\n                    `\n                );\n              }\n              const stateFromDevtools = action.state[store];\n              if (stateFromDevtools === void 0 || stateFromDevtools === null) {\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(stateFromDevtools)) {\n                setStateFromDevtools(stateFromDevtools);\n              }\n              return;\n            }\n            if (!api.dispatchFromDevtools) return;\n            if (typeof api.dispatch !== \"function\") return;\n            api.dispatch(action);\n          }\n        );\n      case \"DISPATCH\":\n        switch (message.payload.type) {\n          case \"RESET\":\n            setStateFromDevtools(initialState);\n            if (store === void 0) {\n              return connection == null ? void 0 : connection.init(api.getState());\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"COMMIT\":\n            if (store === void 0) {\n              connection == null ? void 0 : connection.init(api.getState());\n              return;\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"ROLLBACK\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                connection == null ? void 0 : connection.init(api.getState());\n                return;\n              }\n              setStateFromDevtools(state[store]);\n              connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n            });\n          case \"JUMP_TO_STATE\":\n          case \"JUMP_TO_ACTION\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(state[store])) {\n                setStateFromDevtools(state[store]);\n              }\n            });\n          case \"IMPORT_STATE\": {\n            const { nextLiftedState } = message.payload;\n            const lastComputedState = (_a = nextLiftedState.computedStates.slice(-1)[0]) == null ? void 0 : _a.state;\n            if (!lastComputedState) return;\n            if (store === void 0) {\n              setStateFromDevtools(lastComputedState);\n            } else {\n              setStateFromDevtools(lastComputedState[store]);\n            }\n            connection == null ? void 0 : connection.send(\n              null,\n              // FIXME no-any\n              nextLiftedState\n            );\n            return;\n          }\n          case \"PAUSE_RECORDING\":\n            return isRecording = !isRecording;\n        }\n        return;\n    }\n  });\n  return initialState;\n};\nconst devtools = devtoolsImpl;\nconst parseJsonThen = (stringified, fn) => {\n  let parsed;\n  try {\n    parsed = JSON.parse(stringified);\n  } catch (e) {\n    console.error(\n      \"[zustand devtools middleware] Could not parse the received json\",\n      e\n    );\n  }\n  if (parsed !== void 0) fn(parsed);\n};\n\nconst subscribeWithSelectorImpl = (fn) => (set, get, api) => {\n  const origSubscribe = api.subscribe;\n  api.subscribe = ((selector, optListener, options) => {\n    let listener = selector;\n    if (optListener) {\n      const equalityFn = (options == null ? void 0 : options.equalityFn) || Object.is;\n      let currentSlice = selector(api.getState());\n      listener = (state) => {\n        const nextSlice = selector(state);\n        if (!equalityFn(currentSlice, nextSlice)) {\n          const previousSlice = currentSlice;\n          optListener(currentSlice = nextSlice, previousSlice);\n        }\n      };\n      if (options == null ? void 0 : options.fireImmediately) {\n        optListener(currentSlice, currentSlice);\n      }\n    }\n    return origSubscribe(listener);\n  });\n  const initialState = fn(set, get, api);\n  return initialState;\n};\nconst subscribeWithSelector = subscribeWithSelectorImpl;\n\nfunction combine(initialState, create) {\n  return (...args) => Object.assign({}, initialState, create(...args));\n}\n\nfunction createJSONStorage(getStorage, options) {\n  let storage;\n  try {\n    storage = getStorage();\n  } catch (e) {\n    return;\n  }\n  const persistStorage = {\n    getItem: (name) => {\n      var _a;\n      const parse = (str2) => {\n        if (str2 === null) {\n          return null;\n        }\n        return JSON.parse(str2, options == null ? void 0 : options.reviver);\n      };\n      const str = (_a = storage.getItem(name)) != null ? _a : null;\n      if (str instanceof Promise) {\n        return str.then(parse);\n      }\n      return parse(str);\n    },\n    setItem: (name, newValue) => storage.setItem(name, JSON.stringify(newValue, options == null ? void 0 : options.replacer)),\n    removeItem: (name) => storage.removeItem(name)\n  };\n  return persistStorage;\n}\nconst toThenable = (fn) => (input) => {\n  try {\n    const result = fn(input);\n    if (result instanceof Promise) {\n      return result;\n    }\n    return {\n      then(onFulfilled) {\n        return toThenable(onFulfilled)(result);\n      },\n      catch(_onRejected) {\n        return this;\n      }\n    };\n  } catch (e) {\n    return {\n      then(_onFulfilled) {\n        return this;\n      },\n      catch(onRejected) {\n        return toThenable(onRejected)(e);\n      }\n    };\n  }\n};\nconst persistImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    storage: createJSONStorage(() => localStorage),\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage = options.storage;\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    return storage.setItem(options.name, {\n      state,\n      version: options.version\n    });\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    return setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      return setItem();\n    },\n    get,\n    api\n  );\n  api.getInitialState = () => configResult;\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a, _b;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => {\n      var _a2;\n      return cb((_a2 = get()) != null ? _a2 : configResult);\n    });\n    const postRehydrationCallback = ((_b = options.onRehydrateStorage) == null ? void 0 : _b.call(options, (_a = get()) != null ? _a : configResult)) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            const migration = options.migrate(\n              deserializedStorageValue.state,\n              deserializedStorageValue.version\n            );\n            if (migration instanceof Promise) {\n              return migration.then((result) => [true, result]);\n            }\n            return [true, migration];\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return [false, deserializedStorageValue.state];\n        }\n      }\n      return [false, void 0];\n    }).then((migrationResult) => {\n      var _a2;\n      const [migrated, migratedState] = migrationResult;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      if (migrated) {\n        return setItem();\n      }\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      stateFromStorage = get();\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.storage) {\n        storage = newOptions.storage;\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  if (!options.skipHydration) {\n    hydrate();\n  }\n  return stateFromStorage || configResult;\n};\nconst persist = persistImpl;\n\nfunction ssrSafe(config, isSSR = typeof window === \"undefined\") {\n  return (set, get, api) => {\n    if (!isSSR) {\n      return config(set, get, api);\n    }\n    const ssrSet = () => {\n      throw new Error(\"Cannot set state of Zustand store in SSR\");\n    };\n    api.setState = ssrSet;\n    return config(ssrSet, get, api);\n  };\n}\n\nexport { combine, createJSONStorage, devtools, persist, redux, subscribeWithSelector, ssrSafe as unstable_ssrSafe };\n","import { create } from \"zustand\";\nimport { persist } from \"zustand/middleware\";\nimport { CartItem, Product } from \"../types\";\n\ntype CartState = {\n  items: CartItem[];\n  addItem: (product: Product) => void;\n  removeItem: (id: string) => void;\n  updateQuantity: (id: string, qty: number) => void;\n  clearCart: () => void;\n  getTotalItems: () => number;\n  getTotalPrice: () => number;\n};\n\nexport const useCart = create<CartState>()(\n  persist(\n    (set, get) => ({\n      items: [],\n      addItem: (product) =>\n        set((state) => {\n          const existing = state.items.find((i) => i.id === product.id);\n          if (existing) {\n            return {\n              items: state.items.map((i) =>\n                i.id === product.id\n                  ? { ...i, quantity: i.quantity + 1 }\n                  : i\n              ),\n            };\n          }\n          return { items: [...state.items, { ...product, quantity: 1 }] };\n        }),\n      removeItem: (id) =>\n        set((state) => ({ items: state.items.filter((i) => i.id !== id) })),\n      updateQuantity: (id, qty) =>\n        set((state) => ({\n          items: state.items.map((i) =>\n            i.id === id ? { ...i, quantity: qty } : i\n          ),\n        })),\n      clearCart: () => set({ items: [] }),\n      getTotalItems: () => get().items.reduce((sum, i) => sum + i.quantity, 0),\n      getTotalPrice: () =>\n        get().items.reduce((sum, i) => sum + i.price * i.quantity, 0),\n    }),\n    {\n      name: \"midas-cart\",\n    }\n  )\n);\n","var RELEASE_TRAIN = 'clover';\n\nvar runtimeVersionToUrlVersion = function runtimeVersionToUrlVersion(version) {\n  return version === 3 ? 'v3' : version;\n};\n\nvar ORIGIN = 'https://js.stripe.com';\nvar STRIPE_JS_URL = \"\".concat(ORIGIN, \"/\").concat(RELEASE_TRAIN, \"/stripe.js\");\nvar V3_URL_REGEX = /^https:\\/\\/js\\.stripe\\.com\\/v3\\/?(\\?.*)?$/;\nvar STRIPE_JS_URL_REGEX = /^https:\\/\\/js\\.stripe\\.com\\/(v3|[a-z]+)\\/stripe\\.js(\\?.*)?$/;\nvar EXISTING_SCRIPT_MESSAGE = 'loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used';\n\nvar isStripeJSURL = function isStripeJSURL(url) {\n  return V3_URL_REGEX.test(url) || STRIPE_JS_URL_REGEX.test(url);\n};\n\nvar findScript = function findScript() {\n  var scripts = document.querySelectorAll(\"script[src^=\\\"\".concat(ORIGIN, \"\\\"]\"));\n\n  for (var i = 0; i < scripts.length; i++) {\n    var script = scripts[i];\n\n    if (!isStripeJSURL(script.src)) {\n      continue;\n    }\n\n    return script;\n  }\n\n  return null;\n};\n\nvar injectScript = function injectScript(params) {\n  var queryString = params && !params.advancedFraudSignals ? '?advancedFraudSignals=false' : '';\n  var script = document.createElement('script');\n  script.src = \"\".concat(STRIPE_JS_URL).concat(queryString);\n  var headOrBody = document.head || document.body;\n\n  if (!headOrBody) {\n    throw new Error('Expected document.body not to be null. Stripe.js requires a <body> element.');\n  }\n\n  headOrBody.appendChild(script);\n  return script;\n};\n\nvar registerWrapper = function registerWrapper(stripe, startTime) {\n  if (!stripe || !stripe._registerWrapper) {\n    return;\n  }\n\n  stripe._registerWrapper({\n    name: 'stripe-js',\n    version: \"8.6.0\",\n    startTime: startTime\n  });\n};\n\nvar stripePromise$1 = null;\nvar onErrorListener = null;\nvar onLoadListener = null;\n\nvar onError = function onError(reject) {\n  return function (cause) {\n    reject(new Error('Failed to load Stripe.js', {\n      cause: cause\n    }));\n  };\n};\n\nvar onLoad = function onLoad(resolve, reject) {\n  return function () {\n    if (window.Stripe) {\n      resolve(window.Stripe);\n    } else {\n      reject(new Error('Stripe.js not available'));\n    }\n  };\n};\n\nvar loadScript = function loadScript(params) {\n  // Ensure that we only attempt to load Stripe.js at most once\n  if (stripePromise$1 !== null) {\n    return stripePromise$1;\n  }\n\n  stripePromise$1 = new Promise(function (resolve, reject) {\n    if (typeof window === 'undefined' || typeof document === 'undefined') {\n      // Resolve to null when imported server side. This makes the module\n      // safe to import in an isomorphic code base.\n      resolve(null);\n      return;\n    }\n\n    if (window.Stripe && params) {\n      console.warn(EXISTING_SCRIPT_MESSAGE);\n    }\n\n    if (window.Stripe) {\n      resolve(window.Stripe);\n      return;\n    }\n\n    try {\n      var script = findScript();\n\n      if (script && params) {\n        console.warn(EXISTING_SCRIPT_MESSAGE);\n      } else if (!script) {\n        script = injectScript(params);\n      } else if (script && onLoadListener !== null && onErrorListener !== null) {\n        var _script$parentNode;\n\n        // remove event listeners\n        script.removeEventListener('load', onLoadListener);\n        script.removeEventListener('error', onErrorListener); // if script exists, but we are reloading due to an error,\n        // reload script to trigger 'load' event\n\n        (_script$parentNode = script.parentNode) === null || _script$parentNode === void 0 ? void 0 : _script$parentNode.removeChild(script);\n        script = injectScript(params);\n      }\n\n      onLoadListener = onLoad(resolve, reject);\n      onErrorListener = onError(reject);\n      script.addEventListener('load', onLoadListener);\n      script.addEventListener('error', onErrorListener);\n    } catch (error) {\n      reject(error);\n      return;\n    }\n  }); // Resets stripePromise on error\n\n  return stripePromise$1[\"catch\"](function (error) {\n    stripePromise$1 = null;\n    return Promise.reject(error);\n  });\n};\nvar initStripe = function initStripe(maybeStripe, args, startTime) {\n  if (maybeStripe === null) {\n    return null;\n  }\n\n  var pk = args[0];\n  var isTestKey = pk.match(/^pk_test/); // @ts-expect-error this is not publicly typed\n\n  var version = runtimeVersionToUrlVersion(maybeStripe.version);\n  var expectedVersion = RELEASE_TRAIN;\n\n  if (isTestKey && version !== expectedVersion) {\n    console.warn(\"Stripe.js@\".concat(version, \" was loaded on the page, but @stripe/stripe-js@\").concat(\"8.6.0\", \" expected Stripe.js@\").concat(expectedVersion, \". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning\"));\n  }\n\n  var stripe = maybeStripe.apply(undefined, args);\n  registerWrapper(stripe, startTime);\n  return stripe;\n}; // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n\nvar stripePromise;\nvar loadCalled = false;\n\nvar getStripePromise = function getStripePromise() {\n  if (stripePromise) {\n    return stripePromise;\n  }\n\n  stripePromise = loadScript(null)[\"catch\"](function (error) {\n    // clear cache on error\n    stripePromise = null;\n    return Promise.reject(error);\n  });\n  return stripePromise;\n}; // Execute our own script injection after a tick to give users time to do their\n// own script injection.\n\n\nPromise.resolve().then(function () {\n  return getStripePromise();\n})[\"catch\"](function (error) {\n  if (!loadCalled) {\n    console.warn(error);\n  }\n});\nvar loadStripe = function loadStripe() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  loadCalled = true;\n  var startTime = Date.now(); // if previous attempts are unsuccessful, will re-load script\n\n  return getStripePromise().then(function (maybeStripe) {\n    return initStripe(maybeStripe, args, startTime);\n  });\n};\n\nexport { loadStripe };\n","// app/checkout/page.tsx\n\"use client\";\n\nimport { loadStripe, type Stripe } from \"@stripe/stripe-js\";\nimport { useCart } from \"@/store/cartStore\";\nimport { useEffect, useState } from \"react\";\nimport { CartItem } from \"@/types\";\n\nconst stripePromise = loadStripe(process.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY!);\n\ninterface ShippingAddress {\n  name: string;\n  street1: string;\n  city: string;\n  state: string;\n  zip: string;\n  country: string;\n}\n\ninterface ShippingOption {\n  id: string;\n  name: string;\n  carrier: string;\n  service: string;\n  cost: number;\n  currency: string;\n  estimatedDays: string;\n}\n\nexport default function CheckoutPage() {\n  const { items, clearCart } = useCart();\n  const [loading, setLoading] = useState(false);\n  const [checkoutStep, setCheckoutStep] = useState<'cart' | 'shipping' | 'payment'>('cart');\n\n  // Shipping address state\n  const [shippingAddress, setShippingAddress] = useState<ShippingAddress>({\n    name: '',\n    street1: '',\n    city: '',\n    state: '',\n    zip: '',\n    country: 'US'\n  });\n\n  // Shipping options state\n  const [shippingOptions, setShippingOptions] = useState<ShippingOption[]>([]);\n  const [selectedShipping, setSelectedShipping] = useState<string>('');\n  const [loadingShipping, setLoadingShipping] = useState(false);\n\n  useEffect(() => {\n    if (items.length === 0) {\n      window.location.href = \"/cart\";\n    }\n  }, [items]);\n\n  // Calculate shipping rates when shipping address is provided\n  const calculateShipping = async () => {\n    if (!shippingAddress.name || !shippingAddress.street1 || !shippingAddress.city ||\n        !shippingAddress.state || !shippingAddress.zip) {\n      return;\n    }\n\n    setLoadingShipping(true);\n    try {\n      const res = await fetch(\"/api/shipping\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          address: shippingAddress,\n          items: items.map(item => ({\n            title: item.title,\n            quantity: item.quantity,\n            price: item.price\n          }))\n        }),\n      });\n\n      const data = await res.json();\n      if (data.shippingOptions) {\n        setShippingOptions(data.shippingOptions);\n        setSelectedShipping(data.shippingOptions[0]?.id || '');\n      }\n    } catch (error) {\n      console.error(\"Shipping calculation failed:\", error);\n    }\n    setLoadingShipping(false);\n  };\n\n  const handleCheckout = async () => {\n    setLoading(true);\n    const stripe = await stripePromise;\n\n    const subtotal = items.reduce((sum: number, i: CartItem) => sum + i.price * i.quantity, 0);\n    const selectedOption = shippingOptions.find(option => option.id === selectedShipping);\n    const shippingCost = selectedOption?.cost || 0;\n    const total = subtotal + shippingCost;\n\n    const res = await fetch(\"/api/stripe/checkout\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        items: items.map(item => ({\n          priceId: item.stripePriceId,\n          quantity: item.quantity,\n        })),\n      }),\n    });\n\n    const { url } = await res.json();\n\n    if (url) {\n      window.location.href = url;\n    } else {\n      alert('Failed to create checkout session');\n      setLoading(false);\n    }\n  };\n\n  const subtotal = items.reduce((sum: number, i: CartItem) => sum + i.price * i.quantity, 0);\n  const selectedOption = shippingOptions.find(option => option.id === selectedShipping);\n  const shippingCost = selectedOption?.cost || 0;\n  const total = subtotal + shippingCost;\n\n  // Step 1: Review Cart\n  if (checkoutStep === 'cart') {\n    return (\n      <div className=\"max-w-2xl mx-auto p-6\">\n        <h1 className=\"text-3xl font-bold mb-6\">Checkout</h1>\n        <div className=\"bg-gray-50 p-6 rounded-lg mb-6\">\n          <h2 className=\"font-semibold mb-4\">Order Summary</h2>\n          {items.map((item: CartItem) => (\n            <div key={item.id} className=\"flex justify-between py-2\">\n              <span>\n                {item.title} × {item.quantity}\n              </span>\n              <span>${(item.price * item.quantity).toFixed(2)}</span>\n            </div>\n          ))}\n          <div className=\"border-t pt-4 font-bold text-lg\">\n            Subtotal: ${subtotal.toFixed(2)}\n          </div>\n        </div>\n        <button\n          onClick={() => setCheckoutStep('shipping')}\n          className=\"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700\"\n        >\n          Continue to Shipping\n        </button>\n      </div>\n    );\n  }\n\n  // Step 2: Shipping Information\n  return (\n    <div className=\"max-w-2xl mx-auto p-6\">\n      <h1 className=\"text-3xl font-bold mb-6\">Checkout</h1>\n\n      {/* Shipping Address Form */}\n      <div className=\"bg-white border rounded-lg p-6 mb-6\">\n        <h2 className=\"font-semibold mb-4\">Shipping Address</h2>\n        <div className=\"space-y-4\">\n          <input\n            type=\"text\"\n            placeholder=\"Full Name\"\n            value={shippingAddress.name}\n            onChange={(e) => setShippingAddress({...shippingAddress, name: e.target.value})}\n            className=\"w-full p-2 border rounded\"\n            required\n          />\n          <input\n            type=\"text\"\n            placeholder=\"Street Address\"\n            value={shippingAddress.street1}\n            onChange={(e) => setShippingAddress({...shippingAddress, street1: e.target.value})}\n            className=\"w-full p-2 border rounded\"\n            required\n          />\n          <div className=\"grid grid-cols-2 gap-4\">\n            <input\n              type=\"text\"\n              placeholder=\"City\"\n              value={shippingAddress.city}\n              onChange={(e) => setShippingAddress({...shippingAddress, city: e.target.value})}\n              className=\"p-2 border rounded\"\n              required\n            />\n            <input\n              type=\"text\"\n              placeholder=\"State\"\n              value={shippingAddress.state}\n              onChange={(e) => setShippingAddress({...shippingAddress, state: e.target.value})}\n              className=\"p-2 border rounded\"\n              required\n            />\n          </div>\n          <div className=\"grid grid-cols-2 gap-4\">\n            <input\n              type=\"text\"\n              placeholder=\"ZIP Code\"\n              value={shippingAddress.zip}\n              onChange={(e) => setShippingAddress({...shippingAddress, zip: e.target.value})}\n              className=\"p-2 border rounded\"\n              required\n            />\n            <select\n              value={shippingAddress.country}\n              onChange={(e) => setShippingAddress({...shippingAddress, country: e.target.value})}\n              className=\"p-2 border rounded\"\n              title=\"Country\"\n            >\n              <option value=\"US\">United States</option>\n              <option value=\"CA\">Canada</option>\n            </select>\n          </div>\n          <button\n            onClick={calculateShipping}\n            disabled={loadingShipping}\n            className=\"w-full bg-green-600 text-white py-2 rounded hover:bg-green-700 disabled:opacity-50\"\n          >\n            {loadingShipping ? \"Calculating...\" : \"Calculate Shipping\"}\n          </button>\n        </div>\n      </div>\n\n      {/* Order Summary */}\n      <div className=\"bg-gray-50 p-6 rounded-lg mb-6\">\n        <h2 className=\"font-semibold mb-4\">Order Summary</h2>\n        {items.map((item: CartItem) => (\n          <div key={item.id} className=\"flex justify-between py-2\">\n            <span>\n              {item.title} × {item.quantity}\n            </span>\n            <span>${(item.price * item.quantity).toFixed(2)}</span>\n          </div>\n        ))}\n        {shippingOptions.length > 0 && (\n          <div className=\"border-t pt-4 mt-4\">\n            <h3 className=\"font-semibold mb-2\">Shipping Options</h3>\n            <div className=\"space-y-2\">\n              {shippingOptions.map((option) => (\n                <label key={option.id} className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center\">\n                    <input\n                      type=\"radio\"\n                      name=\"shipping\"\n                      value={option.id}\n                      checked={selectedShipping === option.id}\n                      onChange={(e) => setSelectedShipping(e.target.value)}\n                      className=\"mr-2\"\n                    />\n                    <div>\n                      <div className=\"font-medium\">{option.name}</div>\n                      <div className=\"text-sm text-gray-600\">\n                        {option.estimatedDays} days\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"font-medium\">${option.cost.toFixed(2)}</div>\n                </label>\n              ))}\n            </div>\n            <div className=\"border-t pt-2 mt-2 font-semibold\">\n              Shipping: ${shippingCost.toFixed(2)}\n            </div>\n          </div>\n        )}\n        <div className=\"border-t pt-4 font-bold text-lg\">\n          Total: ${total.toFixed(2)}\n        </div>\n      </div>\n\n      {shippingOptions.length > 0 && (\n        <button\n          onClick={handleCheckout}\n          disabled={loading || !selectedShipping}\n          className=\"w-full bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700 disabled:opacity-50\"\n        >\n          {loading ? \"Processing...\" : \"Pay with Stripe\"}\n        </button>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"4CAmBiB,IEmTY,EFtU7B,IAAA,EAAA,EAAA,CAAA,CAAA,QCAA,IAAM,EAAkB,AAAC,IAEvB,IADI,EACE,EAA4B,IAAI,IAChC,EADY,AACD,CAAC,EAAS,KACzB,IAAM,CAFuB,CAEQ,YAAnB,OAAO,EAAyB,EAAQ,GAAS,EACnE,GAAI,CAAC,OAAO,EAAE,CAAC,EAAW,GAAQ,CAChC,IAAM,EAAgB,EACtB,EAAQ,CAAY,MAAX,EAAkB,EAAU,AAAqB,iBAAd,GAAwC,OAAd,CAAc,CAAI,CAAI,EAAY,OAAO,MAAM,CAAC,CAAC,EAAG,EAAO,GACjI,EAAU,OAAO,CAAC,AAAC,GAAa,EAAS,EAAO,GAClD,CACF,EACM,EAAW,IAAM,EAMjB,EAAM,UAAE,EAAU,WAAU,gBALV,IAAM,EAKqB,UAJjC,AAAC,IACjB,EAAU,GAAG,CAAC,GACP,IAAM,EAAU,MAAM,CAAC,GAE6B,EACvD,EAAe,EAAQ,EAAY,EAAU,EAAU,GAC7D,OAAO,CACT,EDPM,EAAa,AAAC,IAClB,IAAM,ECO8B,ADPZ,ECO0B,EDPtC,GCOqE,EDN3E,EAAiB,AAAD,GAAc,CAXtC,GCiBoE,MDjB3D,AAAS,CAAG,CAAE,EADL,AAAD,GAAS,CACgB,EACxC,GADgC,CAC1B,EAAQ,EAAA,OAAK,CAAC,oBAAoB,CACtC,EAAI,SAAS,CACb,EAAA,OAAK,CAAC,WAAW,CAAC,IAAM,EAAS,EAAI,QAAQ,IAAK,CAAC,EAAK,EAAS,EACjE,EAAA,OAAK,CAAC,WAAW,CAAC,IAAM,EAAS,EAAI,eAAe,IAAK,CAAC,EAAK,EAAS,GAG1E,OADA,EAAA,OAAK,CAAC,aAAa,CAAC,GACb,CACT,GAG+C,EAAK,GAElD,OADA,OAAO,MAAM,CAAC,EAAe,GACtB,CACT,EE2RM,EAAa,AAAC,GAAO,AAAC,IAC1B,GAAI,CACF,IAAM,EAAS,EAAG,GAClB,GAAI,aAAkB,QACpB,CAD6B,MACtB,EAET,MAAO,MACL,AAAK,GACI,EAAW,GAAa,GADjB,AAGhB,MAAM,CAAW,EACf,OAAO,IAAI,AACb,CACF,CACF,CAAE,MAAO,EAAG,CACV,MAAO,CACL,KAAK,CAAY,EACf,OAAO,IAAI,AACb,QACA,AAAM,GACG,EAAW,GAAY,EADhB,AAGlB,CACF,CACF,ECvTa,EAAU,CHKU,EAAc,EAAW,GAAe,CAAA,AGJvE,GDuTmB,ECtTjB,CAAC,EAAK,KAAS,CAAD,AACZ,MAAO,EAAE,CACT,QAAS,AAAC,GACR,EAAI,AAAC,GACc,AACjB,EADuB,EACnB,GADwB,CAAC,IAAI,CAAC,AAAC,CACrB,EAD2B,EAAE,EAAE,GAAK,EAAQ,EAAE,EAEnD,CACL,MAAO,EAAM,KAAK,CAAC,GAAG,CAAE,AAAD,GACrB,EAAE,EAAE,GAAK,EAAQ,EAAE,CACf,CAAE,GAAG,CAAC,CAAE,SAAU,EAAE,QAAQ,CAAG,CAAE,EACjC,EAER,EAEK,CAAE,MAAO,IAAI,EAAM,KAAK,CAAE,CAAE,GAAG,CAAO,CAAE,SAAU,CAAE,EAAE,AAAC,GAElE,WAAY,AAAC,GACX,EAAI,AAAC,IAAW,CAAE,GAAH,GAAU,EAAM,KAAK,CAAC,MAAM,CAAC,AAAC,GAAM,EAAE,EAAE,GAAK,GAAI,CAAC,EACnE,eAAgB,CAAC,EAAI,IACnB,EAAI,AAAC,IAAW,CACd,GADa,GACN,EAAM,KAAK,CAAC,GAAG,CAAC,AAAC,GACtB,EAAE,EAAE,GAAK,EAAK,CAAE,GAAG,CAAC,CAAE,SAAU,CAAI,EAAI,GAE5C,CAAC,EACH,UAAW,IAAM,EAAI,CAAE,MAAO,EAAE,AAAC,GACjC,cAAe,IAAM,IAAM,KAAK,CAAC,MAAM,CAAC,CAAC,EAAK,IAAM,EAAM,EAAE,QAAQ,CAAE,GACtE,cAAe,IACb,IAAM,KAAK,CAAC,MAAM,CAAC,CAAC,EAAK,IAAM,EAAM,EAAE,KAAK,CAAG,EAAE,QAAQ,CAAE,GAC/D,CAAC,GACD,CACE,KAAM,YACR,EDuRyC,CAAC,EAAK,EAAK,KACtD,IA+CI,EA/CA,EAAU,CACZ,QAAS,AAtDb,SAA2B,AAAlB,CAA4B,CAAE,CAAO,EAC5C,IAAI,EACJ,GAAI,CACF,EAAU,GACZ,CAAE,MAAO,EAAG,CACV,MACF,CAmBA,MAlBuB,CACrB,AAiBK,QAjBI,AAAC,IACR,IAAI,EACJ,IAAM,EAAQ,AAAC,GACA,AAAb,MAAmB,CAAf,EACK,KAEF,KAAK,KAAK,CAAC,EAAwB,IAAlB,CAAuB,GAE3C,CAF+C,CAEzC,AAAgC,KAFP,EAAwB,AAEhD,EAAK,EAAQ,GAF0C,IAEnC,CAAC,EAAA,CAAK,CAAY,EAAK,YACxD,AAAI,aAAe,QACV,CADmB,CACf,IAAI,CAAC,GAEX,EAAM,EACf,EACA,QAAS,CAAC,EAAM,IAAa,EAAQ,OAAO,CAAC,EAAM,KAAK,SAAS,CAAC,EAA4B,KAAK,GAAvB,CAA2B,AACvG,QAD+G,EAAxB,CAC3E,AAAC,GAAS,EAAQ,AADyF,UAC/E,CAAC,EAC3C,CAEF,EA4B+B,IAAM,cACjC,WAAY,AAAC,GAAU,EACvB,QAAS,EACT,MAAO,CAAC,EAAgB,KAAkB,CACxC,GAAG,CAAY,CACf,GAAG,CAFoC,AAEtB,CACnB,CAAC,CACD,GAAG,CACL,AADgB,EAEZ,GAAc,EACZ,EAAqC,IAAI,IACzC,EAA2C,IAAI,IACjD,CAFuB,CAEb,EAAQ,OAAO,CAC7B,EAHwC,CAGpC,CAAC,CAF4B,CAG/B,OADY,AACL,EACL,CAAC,EAJyC,CAItC,KACF,QAAQ,IAAI,CACV,CAAC,oDAAoD,EAAE,EAAQ,IAAI,CAAC,8CAA8C,CAAC,EAErH,KAAO,EACT,EACA,EACA,GAGJ,IAAM,EAAU,KACd,IAAM,EAAQ,EAAQ,UAAU,CAAC,CAAE,GAAG,GAAK,AAAC,GAC5C,OAAO,EAAQ,OAAO,CAAC,EAAQ,IAAI,CAAE,OACnC,EACA,QAAS,EAAQ,OAAO,AAC1B,EACF,EACM,EAAgB,EAAI,QAAQ,CAClC,EAAI,QAAQ,CAAG,CAAC,EAAO,KACrB,EAAc,EAAO,GACd,KAET,IAAM,EAAe,EACnB,CAAC,GAAG,KACF,KAAO,GACA,KAET,EACA,GAEF,EAAI,eAAe,CAAG,IAAM,EAE5B,IAAM,EAAU,KACd,IAAI,EAAI,EACR,GAAI,CAAC,EAAS,OACd,GAAc,EACd,EAAmB,OAAO,CAAC,AAAC,IAC1B,IAAI,EACJ,OAAO,EAAG,AAAiB,OAAhB,EAAM,GAAA,CAAK,CAAY,EAAM,EAC1C,GACA,IAAM,EAA0B,CAAC,AAAqC,OAApC,EAAK,EAAQ,kBAAA,AAAkB,EAAY,KAAK,EAAI,EAAG,IAAI,CAAC,EAAyB,AAAhB,OAAC,EAAK,GAAA,CAAK,CAAY,EAAK,EAAA,CAAa,EAAK,KAAK,EAC1J,OAAO,EAAW,EAAQ,OAAO,CAAC,IAAI,CAAC,IAAU,EAAQ,IAAI,EAAE,IAAI,CAAC,AAAC,IACnE,GAAI,EACF,GAAgD,UAA5C,OAAO,EAAyB,EADR,KACe,EAAiB,EAAyB,OAAO,GAAK,EAAQ,OAAO,CAe9G,MAAO,EAAC,EAAO,EAAyB,KAAK,CAAC,KAfkE,CAChH,GAAI,EAAQ,OAAO,CAAE,CACnB,IAAM,EAAY,EAAQ,OAAO,CAC/B,EAAyB,KAAK,CAC9B,EAAyB,OAAO,SAElC,AAAI,aAAqB,QAChB,CADyB,CACf,IAAI,CAAC,AAAC,GAAW,EAAC,EAAM,EAAO,EAE3C,EAAC,EAAM,EAAU,AAC1B,CACA,QAAQ,KAAK,CACX,CAAC,qFAAqF,CAAC,CAE3F,CAIF,MAJS,AAIF,EAAC,EAAO,KAAK,EAAE,AACxB,GAAG,IAAI,CAAC,AAAC,IACP,IAAI,EACJ,GAAM,CAAC,EAAU,EAAc,CAAG,EAMlC,GADA,EAJA,EAAmB,AAIf,EAJuB,KAAK,CAC9B,EACA,AAAiB,OAAhB,EAAM,GAAA,CAAK,CAAY,EAAM,IAEV,GAClB,EACF,OAAO,CADK,EAGhB,GAAG,IAAI,CAAC,KACqB,MAA3B,CAAkC,EAAS,EAAwB,CAA5B,CAA8C,KAAK,GAC1F,EAAmB,IACnB,GAAc,EACd,EAAyB,OAAO,CAAC,AAAC,GAAO,EAAG,GAC9C,GAAG,KAAK,CAAC,AAAC,IACmB,MAA3B,CAAkC,EAAS,EAAwB,CAA5B,IAAiC,EAAG,EAC7E,EACF,EAiCA,OAhCA,EAAI,OAAO,CAAG,CACZ,WAAY,AAAC,IACX,EAAU,CACR,GAAG,CAAO,CACV,GAAG,CAAU,AACf,EACI,EAAW,OAAO,EAAE,CACtB,EAAU,EAAW,OAAO,AAAP,CAEzB,EACA,aAAc,KACD,MAAX,CAAkB,EAAS,EAAQ,CAAZ,SAAsB,CAAC,EAAQ,IAAI,CAC5D,EACA,WAAY,IAAM,EAClB,UAAW,IAAM,IACjB,YAAa,IAAM,EACnB,UAAW,AAAC,IACV,EAAmB,GAAG,CAAC,GAChB,KACL,EAAmB,MAAM,CAAC,EAC5B,GAEF,kBAAoB,AAAD,IACjB,EAAyB,GAAG,CAAC,GACtB,KACL,EAAyB,MAAM,CAAC,EAClC,EAEJ,EACI,AAAC,EAAQ,aAAa,EAAE,AAC1B,IAEK,GAAoB,CAC7B,gEE1cA,IA6JI,EA7JA,EAAgB,SAOA,GAAG,MAAM,CADhB,AACiB,wBAAQ,KAAK,MAAM,CAAC,EAAe,cAuCjE,IAAI,EAAkB,SAAyB,AAAhB,CAAsB,CAAE,CAAS,EACzD,GAAW,EAAO,KAAR,WAAwB,EAAE,AAIzC,EAAO,gBAAgB,CAAC,CACtB,KAAM,YACN,QAAS,QACT,UAAW,CACb,EACF,EAEI,EAAkB,KA+ElB,EAAa,SAAS,AAAW,CAAW,CAAE,CAAI,CAAE,CAAS,EAC/D,GAAoB,MAAM,CAAtB,EACF,OAAO,KAIT,MAAI,EADK,AACO,CADH,CAAC,EAAE,CACG,KAAK,CAAC,YAErB,CAFkC,CA5I/B,AAAY,KADgD,EA+I1B,CAA3B,CAAuC,GA/IqB,IA+Id,EA9IrC,KAAO,EAiJ1B,GAAa,OACf,KAD2B,GACnB,EAN0E,EAMtE,CAAC,SAD+B,IAClB,MAAM,CAAC,EAAS,mDAAmD,MAAM,CAAC,QAAS,wBAAwB,MAAM,CAHvH,AAGwH,EAAiB,yHAG/J,IAAI,EAAS,EAAY,KAAK,MAAC,EAAW,GAE1C,OADA,EAAgB,EAAQ,GACjB,CACT,EAGI,CAHD,EAGc,EAEb,EAAmB,SAAS,SAC9B,AAAI,EACK,EAGT,EAnFA,AAmFgB,CAnFZ,AAAoB,MAAM,EA+EX,CA9EV,CAkFkB,CAjCpB,CA9CP,EAAkB,CA+Ec,GA/EV,QAAQ,AA8CR,SA9CkB,CAAO,CAAE,CAAM,EAInD,EAAQ,IAiEkE,CAzB9E,EAAA,EAEuB,CAFnB,IAE2B,CAAC,SAAU,CAAK,EAE7C,OADA,EAAkB,KACX,CAJ2B,OAInB,MAAM,CAAC,EACxB,EAnDA,EAiFiC,KAAQ,CAAC,SAAU,CAAK,EAGvD,OADA,EAAgB,KACT,QAAQ,MAAM,CAAC,EACxB,EAEF,EAIA,CAJG,OAIK,OAAO,GAAG,IAAI,CAAC,WACrB,OAAO,GACT,EAAE,CAAC,KAAQ,CAAC,SAAU,CAAK,EACrB,AAAC,GACH,QAAQ,CADO,GAP+D,AAQlE,CAAC,EAEjB,GACA,IAAI,EAAa,SAAS,EACxB,IAAK,IAAI,EAAO,UAAU,MAAM,CAAE,EAAO,AAAI,MAAM,GAAO,EAAO,EAAG,EAAO,EAAM,IAC/E,CAAI,CAAC,CADkF,CAC7E,CAAG,SAAS,CAAC,EAAK,CAG9B,GAAa,EACb,IAAI,EAAY,KAAK,GAAG,GAExB,CAF4B,MAErB,IAAmB,IAAI,CAAC,SAAU,CAAW,EAClD,OAAO,EAAW,EAAa,EAAM,EACvC,EACF,iBAL2F,2ECzL3F,EAAA,CAAA,CAAA,QAAA,IAAA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAGA,IAAM,EAAgB,CAAA,EAAA,EAAA,UAAA,AAAU,EAAA,uCAqBjB,SAAS,IACtB,GAAM,OAAE,CAAK,WAAE,CAAS,CAAE,CAAG,CAAA,EAAA,EAAA,OAAO,AAAP,IACvB,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjC,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAA0C,QAG5E,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAkB,CACtE,KAAM,GACN,QAAS,GACT,KAAM,GACN,MAAO,GACP,IAAK,GACL,QAAS,IACX,GAGM,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAmB,EAAE,EACrE,CAAC,EAAkB,EAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,IAC3D,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAEvD,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACa,GAAG,CAApB,EAAM,MAAM,GACd,OAAO,QAAQ,CAAC,IAAI,CAAG,OAAA,CAE3B,EAAG,CAAC,EAAM,EAGV,IAAM,EAAoB,UACxB,GAAI,AAAC,EAAgB,IAAI,EAAK,EAAD,AAAiB,OAAO,EAAK,EAAD,AAAiB,IAAI,EACzE,EAAD,AAAiB,KAAK,EAAK,EAAgB,AAAjB,GAAoB,EAAE,AAIpD,GAAmB,GACnB,GAAI,CACF,IAAM,EAAM,MAAM,MAAM,gBAAiB,CACvC,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,CACnB,QAAS,EACT,MAAO,EAAM,GAAG,CAAC,GAAS,EACxB,EADuB,IAChB,EAAK,KAAK,CACjB,SAAU,EAAK,QAAQ,CACvB,MAAO,EAAK,KAAK,CACnB,CAAC,CACH,EACF,GAEM,EAAO,MAAM,EAAI,IAAI,GACvB,EAAK,eAAe,EAAE,CACxB,EAAmB,EAAK,eAAe,EACvC,EAAoB,EAAK,eAAe,CAAC,EAAE,EAAE,IAAM,IAEvD,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,+BAAgC,EAChD,CACA,GAAmB,GACrB,EAEM,EAAiB,UACrB,EAAW,IACI,MAAM,EAEJ,EAAM,MAAM,CAAC,CAAC,EAAa,IAAgB,EAAM,EAAE,KAAK,CAAG,EAAE,QAAQ,CAAE,GACxF,IAAM,EAAiB,EAAgB,IAAI,CAAC,GAAU,EAAO,EAAE,GAAK,GAC/C,GAAgB,KAGrC,GAH6C,CAGvC,EAAM,MAAM,MAAM,uBAAwB,CAC9C,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,CACnB,MAAO,EAAM,GAAG,CAAC,GAAS,EACxB,EADuB,MACd,EAAK,aAAa,CAC3B,SAAU,EAAK,QAAQ,CACzB,CAAC,CACH,EACF,GAEM,KAAE,CAAG,CAAE,CAAG,MAAM,EAAI,IAAI,GAE1B,EACF,GADO,IACA,QAAQ,CAAC,IAAI,CAAG,GAEvB,MAAM,qCACN,GAAW,GAEf,EAEM,EAAW,EAAM,MAAM,CAAC,CAAC,EAAa,IAAgB,EAAM,EAAE,KAAK,CAAG,EAAE,QAAQ,CAAE,GAClF,EAAiB,EAAgB,IAAI,CAAC,GAAU,EAAO,EAAE,GAAK,GAC9D,EAAe,GAAgB,MAAQ,EACvC,EAAQ,EAAW,QAGzB,AAAqB,QAAQ,CAAzB,EAEA,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mCAA0B,aACxC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2CACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8BAAqB,kBAClC,EAAM,GAAG,CAAC,AAAC,GACV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAkB,UAAU,sCAC3B,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WACE,EAAK,KAAK,CAAC,MAAI,EAAK,QAAQ,IAE/B,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WAAK,IAAE,CAAC,EAAK,KAAK,CAAG,EAAK,QAAA,AAAQ,EAAE,OAAO,CAAC,QAJrC,EAAK,EAAE,GAOnB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4CAAkC,cACnC,EAAS,OAAO,CAAC,SAGjC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAgB,YAC/B,UAAU,yFACX,4BASL,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mCAA0B,aAGxC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gDACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8BAAqB,qBACnC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,YAAY,YACZ,MAAO,EAAgB,IAAI,CAC3B,SAAU,AAAC,GAAM,EAAmB,CAAC,GAAG,CAAe,CAAE,KAAM,EAAE,MAAM,CAAC,KAAK,GAC7E,UAAU,4BACV,QAAQ,CAAA,CAAA,IAEV,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,YAAY,iBACZ,MAAO,EAAgB,OAAO,CAC9B,SAAU,AAAC,GAAM,EAAmB,CAAC,GAAG,CAAe,CAAE,QAAS,EAAE,MAAM,CAAC,KAAK,GAChF,UAAU,4BACV,QAAQ,CAAA,CAAA,IAEV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,YAAY,OACZ,MAAO,EAAgB,IAAI,CAC3B,SAAU,AAAC,GAAM,EAAmB,CAAC,GAAG,CAAe,CAAE,KAAM,EAAE,MAAM,CAAC,KAAK,GAC7E,UAAU,qBACV,QAAQ,CAAA,CAAA,IAEV,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,YAAY,QACZ,MAAO,EAAgB,KAAK,CAC5B,SAAW,AAAD,GAAO,EAAmB,CAAC,GAAG,CAAe,CAAE,MAAO,EAAE,MAAM,CAAC,KAAK,GAC9E,UAAU,qBACV,QAAQ,CAAA,CAAA,OAGZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,YAAY,WACZ,MAAO,EAAgB,GAAG,CAC1B,SAAU,AAAC,GAAM,EAAmB,CAAC,GAAG,CAAe,CAAE,IAAK,EAAE,MAAM,CAAC,KAAK,GAC5E,UAAU,qBACV,QAAQ,CAAA,CAAA,IAEV,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,MAAO,EAAgB,OAAO,CAC9B,SAAU,AAAC,GAAM,EAAmB,CAAC,GAAG,CAAe,CAAE,QAAS,EAAE,MAAM,CAAC,KAAK,GAChF,UAAU,qBACV,MAAM,oBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,cAAK,kBACnB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,cAAK,iBAGvB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,SAAU,EACV,UAAU,8FAET,EAAkB,iBAAmB,6BAM5C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2CACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8BAAqB,kBAClC,EAAM,GAAG,CAAC,AAAC,GACV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAkB,UAAU,sCAC3B,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WACE,EAAK,KAAK,CAAC,MAAI,EAAK,QAAQ,IAE/B,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WAAK,IAAE,CAAC,EAAK,KAAK,CAAG,EAAK,QAAQ,AAAR,EAAU,OAAO,CAAC,QAJrC,EAAK,EAAE,GAOlB,EAAgB,MAAM,CAAG,GACxB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+BACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8BAAqB,qBACnC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,EAAgB,GAAG,CAAC,AAAC,GACpB,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAsB,UAAU,8CAC/B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8BACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,QACL,KAAK,WACL,MAAO,EAAO,EAAE,CAChB,QAAS,IAAqB,EAAO,EAAE,CACvC,SAAU,AAAC,GAAM,EAAoB,EAAE,MAAM,CAAC,KAAK,EACnD,UAAU,SAEZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uBAAe,EAAO,IAAI,GACzC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kCACZ,EAAO,aAAa,CAAC,iBAI5B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBAAc,IAAE,EAAO,IAAI,CAAC,OAAO,CAAC,QAjBzC,EAAO,EAAE,KAqBzB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6CAAmC,cACpC,EAAa,OAAO,CAAC,SAIvC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4CAAkC,WACtC,EAAM,OAAO,CAAC,SAI1B,EAAgB,MAAM,CAAG,GACxB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,SAAU,GAAW,CAAC,EACtB,UAAU,+GAET,EAAU,gBAAkB,sBAKvC","ignoreList":[0,1,2,4]}