{"version":3,"sources":["turbopack:///[project]/app/lib/prisma.ts","turbopack:///[project]/app/(shop)/products/page.tsx"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\n\ndeclare global {\n  var prisma: PrismaClient | undefined;\n}\n\nexport const db = globalThis.prisma || new PrismaClient();\n\nif (process.env.NODE_ENV !== \"production\") globalThis.prisma = db;\n","import { db } from '@/lib/prisma';\n\nexport default async function ProductsPage({ searchParams }: { searchParams?: { category?: string } }) {\n  const category = searchParams?.category;\n\n  const products = category\n    ? await db.product.findMany({\n        where: {\n          category: category\n        }\n      })\n    : await db.product.findMany();\n\n  const categoryName = getCategoryDisplayName(category);\n\n  return (\n    <div className=\"max-w-7xl mx-auto p-4\">\n      <h1 className=\"text-3xl font-bold mb-8\">{categoryName}</h1>\n      {products.length === 0 ? (\n        <div className=\"text-center py-12\">\n          <p className=\"text-gray-500 text-lg\">No products found in this category.</p>\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n          {products.map((p) => {\n            const images = p.images ? JSON.parse(p.images) : [];\n            return (\n              <div key={p.id} className=\"border p-4 rounded\">\n                <img src={images[0] || p.image || '/placeholder.jpg'} alt={p.title} className=\"w-full h-48 object-cover\" />\n                <h3>{p.title}</h3>\n                <p>${p.price}</p>\n                {p.oldPrice && <p className=\"text-gray-500 line-through\">${p.oldPrice}</p>}\n                {p.badge && <span className=\"bg-blue-500 text-white px-2 py-1 rounded text-sm\">{p.badge}</span>}\n              </div>\n            );\n          })}\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction getCategoryDisplayName(category?: string): string {\n  if (!category) return 'All Products';\n\n  const categoryMap: Record<string, string> = {\n    'iphone': 'iPhone Parts',\n    'samsung': 'Samsung Parts',\n    'macbook': 'MacBook Parts',\n    'ipad': 'iPad Parts',\n    'tools': 'Tools & Accessories',\n    'google': 'Google Pixel Parts'\n  };\n\n  return categoryMap[category] || `${category.charAt(0).toUpperCase() + category.slice(1)} Parts`;\n}\n"],"names":[],"mappings":"8ZAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OAMO,IAAM,EAAK,WAAW,MAAM,EAAI,IAAI,EAAA,YAAY,4DCNvD,EAAA,EAAA,CAAA,CAAA,QAEe,eAAe,EAAa,cAAE,CAAY,CAA4C,MAwCrE,EAvC9B,IAAM,EAAW,AAuC8B,GAvChB,SAEzB,EAAW,EACb,MAAM,EAAA,EAAE,CAAC,OAAO,CAAC,QAAQ,CAAC,CACxB,MAAO,CACL,SAAU,CACZ,CACF,GACA,MAAM,EAAA,EAAE,CAAC,OAAO,CAAC,QAAQ,GAEvB,EA8BN,GA9B4C,CA8BxC,CAAC,CAWE,CATqC,CAC1C,KAjCmB,EA8BN,AAGH,eACV,QAAW,gBACX,QAAW,gBACX,KAAQ,aACR,MAAS,sBACT,OAAU,qBACZ,CAEkB,CAAC,EAAS,EAAI,CAAA,EAAG,EAAS,MAAM,CAAC,GAAG,WAAW,GAAK,EAAS,KAAK,CAAC,GAAG,MAAM,CAAC,CAXzE,eA5BtB,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mCAA2B,IACpB,IAApB,EAAS,MAAM,CACd,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6BACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,0CAGvC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iDACZ,EAAS,GAAG,CAAC,AAAC,IACb,IAAM,EAAS,EAAE,MAAM,CAAG,KAAK,KAAK,CAAC,EAAE,MAAM,EAAI,EAAE,CACnD,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAe,UAAU,+BACxB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,IAAK,CAAM,CAAC,EAAE,EAAI,EAAE,KAAK,EAAI,mBAAoB,IAAK,EAAE,KAAK,CAAE,UAAU,6BAC9E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAI,EAAE,KAAK,GACZ,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,WAAE,IAAE,EAAE,KAAK,IACX,EAAE,QAAQ,EAAI,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,uCAA6B,IAAE,EAAE,QAAQ,IACpE,EAAE,KAAK,EAAI,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4DAAoD,EAAE,KAAK,KAL/E,EAAE,EAAE,CAQlB,OAKV"}