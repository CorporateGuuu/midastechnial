module.exports=[233405,(a,b,c)=>{b.exports=a.x("child_process",()=>require("child_process"))},207818,a=>{a.v({name:"pusher",description:"Node.js client to interact with the Pusher Channels REST API",version:"5.2.0",author:"Pusher <support@pusher.com>",contributors:[{name:"fabrik42",email:"fabrik42@gmail.com"},{name:"Jaewoong Kim",email:"jwoongkim@gmail.com"},{name:"Phil Leggetter",email:"phil@leggetter.co.uk"},{name:"Paweł Ledwoń",email:"me@ludvik.pl"}],dependencies:{"abort-controller":"^3.0.0","is-base64":"^1.1.0","node-fetch":"^2.6.1",tweetnacl:"^1.0.0","tweetnacl-util":"^0.15.0","@types/node-fetch":"^2.5.7"},devDependencies:{"@types/node":"^14.14.6",eslint:"^7.11.0","expect.js":"=0.3.1",express:"^4.17.1","https-proxy-agent":"^5.0.0",mocha:"^7.2.0",nock:"^12.0.3",prettier:"2.1.2",sinon:"=1.10.2",webpack:"^4.42.1","webpack-cli":"^3.3.11"},scripts:{"local-test":"npx mocha 'tests/integration/**/*.js'",test:"npx mocha 'tests/{integration,remote}/**/*.js'",lint:"npx eslint . && npx prettier --check .",format:"npx prettier --write ."},keywords:["pusher","websockets","realtime"],license:"MIT",repository:"git://github.com/pusher/pusher-http-node",main:"lib/pusher",typings:"index.d.ts",engines:{node:">= 4.0.0"}})},224361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},254799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},921517,(a,b,c)=>{b.exports=a.x("http",()=>require("http"))},524836,(a,b,c)=>{b.exports=a.x("https",()=>require("https"))},427699,(a,b,c)=>{b.exports=a.x("events",()=>require("events"))},792509,(a,b,c)=>{b.exports=a.x("url",()=>require("url"))},406461,(a,b,c)=>{b.exports=a.x("zlib",()=>require("zlib"))},500874,(a,b,c)=>{b.exports=a.x("buffer",()=>require("buffer"))},449719,(a,b,c)=>{b.exports=a.x("assert",()=>require("assert"))},688947,(a,b,c)=>{b.exports=a.x("stream",()=>require("stream"))},522734,(a,b,c)=>{b.exports=a.x("fs",()=>require("fs"))},415468,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(875003),e=a.i(509105),f=a.i(256711);function g(){let{data:a,status:g}=(0,d.useSession)(),[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)({});return((0,c.useEffect)(()=>{if("authenticated"===g&&a?.user?.email)return fetch("/api/orders").then(a=>a.json()).then(i),h.forEach(a=>{let b=e.pusherClient?.subscribe(`order-${a.id}`);b?.bind("tracking-update",b=>{k(c=>({...c,[a.id]:b}))})}),()=>{h.forEach(a=>e.pusherClient?.unsubscribe(`order-${a.id}`))}},[h.length,a,g]),"loading"===g)?(0,b.jsx)("div",{className:"text-center py-20",children:"Loading..."}):"authenticated"===g&&a?.user?.email?0===h.length?(0,b.jsx)("div",{className:"text-center py-20",children:"No orders yet."}):(0,b.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Order History"}),(0,b.jsx)("div",{className:"space-y-6",children:h.map(a=>{let c=j[a.id];return(0,b.jsxs)("div",{className:"border rounded-lg p-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"font-semibold",children:["Order #",a.id.slice(0,8)]}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:(0,f.format)(new Date(a.createdAt),"PPP")})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center mb-2 mt-2",children:[(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-sm ${c?.status==="shipped"?"bg-blue-100 text-blue-800":c?.status==="delivered"?"bg-green-100 text-green-800":"shipped"===a.status?"bg-blue-100 text-blue-800":"delivered"===a.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:c?.status||a.status}),a.trackingNumber&&(0,b.jsxs)("a",{href:a.trackingUrl,target:"_blank",className:"text-primary text-sm hover:underline",children:["Track Package → ",a.trackingNumber]})]}),a.trackingNumber&&c&&(0,b.jsxs)("div",{className:"mt-1 text-sm text-gray-600",children:[c.description," • ",c.location&&`${c.location}, `,(0,f.format)(new Date(c.timestamp),"p")]}),(0,b.jsx)("div",{className:"space-y-2 mt-4",children:JSON.parse(a.items).map((a,c)=>(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsxs)("span",{children:[a.title," × ",a.quantity]}),(0,b.jsxs)("span",{children:["$",(a.price*a.quantity).toFixed(2)]})]},c))}),(0,b.jsxs)("div",{className:"border-t mt-4 pt-4 font-bold",children:["Total: $",a.total.toFixed(2)]})]},a.id)})})]}):(0,b.jsx)("div",{children:"Please log in to view orders."})}a.s(["default",()=>g])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__6e6a5afb._.js.map